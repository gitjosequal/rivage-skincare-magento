<?php $brands = $this->getBrands(); $featured = $this->getFeaturedBrands(); $media = $this->getImageMediaPath(); $objectManager = \Magento\Framework\App\ObjectManager::getInstance(); $storeManager = $objectManager->get('\Magento\Store\Model\StoreManagerInterface'); $storeID = $storeManager->getStore()->getStoreId(); $ab = array('أ', 'ب', 'ت', 'ث', 'ج', 'ح', 'خ', 'د', 'ذ', 'ر', 'ز', 'س', 'ش', 'ص', 'ض', 'ط', 'ظ', 'ع', 'غ', 'ف', 'ق', 'ك', 'ل', 'م', 'ن', 'ه', 'و', 'ي'); ?> <?php echo $block->getLayout()->createBlock('Magento\Cms\Block\Block')->setBlockId('ingredientsbanner')->toHtml(); ?> <div class="brand_main_content"><div class="filter_brand_toolbar brand-char"><?php if ($storeID == 2 || $storeID == 4 || $storeID == 10 || $storeID == 12) {?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'all')); ?>"><strong><?=__('الكل - ')?></strong></a> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'ا')); ?>"><strong> <?php echo 'ا'; ?></strong></a> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'ب')); ?>"><strong> <?php echo 'ب'; ?></strong></a> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'ت')); ?>"><strong> <?php echo 'ت'; ?></strong></a> <?php echo ' - '; ?> <strong> <?php echo 'ث'; ?></strong> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'ج')); ?>"><strong> <?php echo 'ج'; ?></strong></a> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'ح')); ?>"><strong> <?php echo 'ح'; ?></strong></a> <?php echo ' - '; ?> <strong> <?php echo 'خ'; ?></strong> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'د')); ?>"><strong> <?php echo 'د'; ?></strong></a> <?php echo ' - '; ?> <strong> <?php echo 'ذ'; ?></strong> <?php echo ' - '; ?> <strong> <?php echo 'ر'; ?></strong> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'ز')); ?>"><strong> <?php echo 'ز'; ?></strong></a> <?php echo ' - '; ?> <strong> <?php echo 'س'; ?></strong> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'ش')); ?>"><strong> <?php echo 'ش'; ?></strong></a> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'ص')); ?>"><strong> <?php echo 'ص'; ?></strong></a> <?php echo ' - '; ?> <strong> <?php echo 'ض'; ?></strong> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'ط')); ?>"><strong> <?php echo 'ط'; ?></strong></a> <?php echo ' - '; ?> <strong> <?php echo 'ظ'; ?></strong> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'ع')); ?>"><strong> <?php echo 'ع'; ?></strong></a> <?php echo ' - '; ?> <strong> <?php echo 'غ'; ?></strong> <?php echo ' - '; ?> <strong> <?php echo 'ف'; ?></strong> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'ق')); ?>"><strong> <?php echo 'ق'; ?></strong></a> <?php echo ' - '; ?> <strong> <?php echo 'ك'; ?></strong> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'ل')); ?>"><strong> <?php echo 'ل'; ?></strong></a> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'م')); ?>"><strong> <?php echo 'م'; ?></strong></a> <?php echo ' - '; ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'ن')); ?>"><strong> <?php echo 'ن'; ?></strong></a> <?php echo ' - '; ?> <strong> <?php echo 'ه'; ?></strong> <?php echo ' - '; ?> <strong> <?php echo 'و'; ?></strong> <?php echo ' - '; ?> <strong> <?php echo 'ي'; ?></strong> <?php } else { ?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => 'all')); ?>"><strong><?=__('All - ')?></strong></a> <?php foreach (range('A', 'Z') as $char): if (isset($brands[$char])) {?> <a class="filter_char" href="<?php echo $this->getUrl('ingredients/index/filter', array('key' => $char)); ?>"><strong> <?php echo $char; ?></strong></a> <?php echo ' - '; ?> <?php } elseif ($char == 'Z') {?> <strong> <?php echo $char; ?></strong> <?php } else {?> <strong> <?php echo $char . ' - '; ?></strong> <?php } endforeach; } ?></div><div class="featured_brands"><ul class="featured_listing row"><?php foreach ($featured as $_fbrand): ?> <li class="col-lg-2 col-md-3 col-6"><?php if ($storeID == 2 || $storeID == 4 || $storeID == 10 || $storeID == 12) { if ($_fbrand->getUrlKey()): ?> <a id="<?php echo $_fbrand->getUrlKey(); ?>" class="" href="<?php echo $this->getUrl('ingredients') . $_fbrand->getUrlKey() ?>"><?php else: ?> <a href="<?php echo $this->getUrl('ingredients/view/', array('id' => $_fbrand->getId())); ?>"><?php endif;?> <?php if ($_fbrand->getLogo()): ?> <img class="f-barnd-img" src="<?php echo $media . $_fbrand->getLogo() ?>" title="<?php echo $_fbrand->getName(); ?>" alt="<?php echo $_fbrand->getAname(); ?>"/><span class="brand-title"><?php echo $_fbrand->getAname(); ?></span> <?php else: ?> <span class="brand-title no_image"><?php echo $_fbrand->getAname(); ?></span> <?php endif;?></a> <?php } else { if ($_fbrand->getUrlKey()): ?> <a id="<?php echo $_fbrand->getUrlKey(); ?>" href="<?php echo $this->getUrl('ingredients') . $_fbrand->getUrlKey() ?>"><?php else: ?> <a href="<?php echo $this->getUrl('ingredients/view/', array('id' => $_fbrand->getId())); ?>"><?php endif;?> <?php if ($_fbrand->getLogo()): ?> <img class="f-barnd-img" src="<?php echo $media . $_fbrand->getLogo() ?>" title="<?php echo $_fbrand->getName(); ?>" alt="<?php echo $_fbrand->getName(); ?>"/><span class="brand-title"><?php echo $_fbrand->getName(); ?></span> <?php else: ?> <span class="brand-title no_image"><?php echo $_fbrand->getName(); ?></span> <?php endif;?></a> <?php }?></li> <?php endforeach;?></ul></div></div><?php function ords_to_unistr($ords, $encoding = 'UTF-8') { $str = ''; for ($i = 0; $i < count($ords); $i++) { $v = $ords[$i]; $str .= pack("N", $v); } $str = mb_convert_encoding($str, $encoding, "UCS-4BE"); return ($str); } function unistr_to_ords($str, $encoding = 'UTF-8') { $str = mb_convert_encoding($str, "UCS-4BE", $encoding); $ords = array(); for ($i = 0; $i < mb_strlen($str, "UCS-4BE"); $i++) { $s2 = mb_substr($str, $i, 1, "UCS-4BE"); $val = unpack("N", $s2); $ords[] = $val[1]; } return ($ords); } function alphabet($firstCharacter = 'A', $lastCharacter = 'Z') { $firstCharacterValue = unistr_to_ords($firstCharacter)[0]; $lastCharacterValue = unistr_to_ords($lastCharacter)[0]; if ($firstCharacterValue < $lastCharacterValue) { for ($character = $firstCharacterValue; $character <= $lastCharacterValue; ++$character) { yield ords_to_unistr(array($character)); } } else { for ($character = $firstCharacterValue; $character >= $lastCharacterValue; --$character) { yield ords_to_unistr(array($character)); } } }